# 网易 2021 校招-测试测开工程师-有道（正式第一批）

## 1

测试人员发现一个问题，如果问题影响不大，而自己可以简单修改下，可以在修改后验证下没有问题，而不再报 bug

正确答案: B   你的答案: 空 (错误)

```cpp
对
```

```cpp
错
```

本题知识点

测试开发工程师 测试工程师 网易 2021

## 2

所有的软件测试必须在实际使用环境下进行，否则结果无任何意义。 正确答案: B   你的答案: 空 (错误)

```cpp
对
```

```cpp
错
```

本题知识点

测试开发工程师 测试工程师 网易 2021

## 3

验收测试是在产品发布后进行的，所以是由用户来实施的。

正确答案: B   你的答案: 空 (错误)

```cpp
对
```

```cpp
错
```

本题知识点

测试开发工程师 测试工程师 网易 2021

## 4

测试人员需要坚持原则，在没有修复完所有 bug 的情况下坚决不能通过允许上线

正确答案: B   你的答案: 空 (错误)

```cpp
对
```

```cpp
错
```

本题知识点

测试开发工程师 测试工程师 网易 2021

讨论

[牛客 583086424 号](https://www.nowcoder.com/profile/583086424)

错，有些 bug 不影响使用，可以先上线，在维护过程中修复

发表于 2021-04-10 16:14:56

* * *

## 5

我们可以人为的使得产品不存在任何问题。

正确答案: B   你的答案: 空 (错误)

```cpp
对
```

```cpp
错
```

本题知识点

测试开发工程师 测试工程师 网易 2021

## 6

1.下面哪个命令不是 linux 环境下常用的操作命令（）

正确答案: B   你的答案: 空 (错误)

```cpp
ps
```

```cpp
dir
```

```cpp
top
```

```cpp
df
```

本题知识点

测试开发工程师 测试工程师 网易 2021

讨论

[牛客 645850781 号](https://www.nowcoder.com/profile/645850781)

dir 命令一般用 ls 命令代替 1\. find：查找文件 2\. grep：查找文件中的行，常用来在日志中找信息
3\. awk：相当强大的工具，用来统计日志信息
4\. sed：按行编辑文件，常用来处理配置文件
5\. netstat：查看网络信息
6\. ps：用来查看进程状态  
7\. top：实时显示各进程资源占用情况
8\. df 指令：系统磁盘使用情况。

发表于 2021-08-20 08:27:19

* * *

[5sy](https://www.nowcoder.com/profile/973986382)

ps 指令：显示系统执行的进程

top 指令：与 ps 相似，不同之处在于 top 执行一段时间后可更新正在运行的的进程。

df 指令：系统磁盘使用情况。

发表于 2021-03-07 14:43:04

* * *

## 7

用边界值分析法，假定 X 为整数，10≤X≤50，那么 X 在测试中应该取（）边界值

正确答案: B   你的答案: 空 (错误)

```cpp
X=10，X=50
```

```cpp
X=9，X=10，X=50，X=51
```

```cpp
X=10，X=11，X=49，X=50
```

```cpp
X=9，X=10，X=50
```

本题知识点

测试开发工程师 测试工程师 网易 2021

讨论

[牛客 820401139 号](https://www.nowcoder.com/profile/820401139)

我是猜的，感觉这个答案最靠谱，求专业解答。

发表于 2021-01-22 10:32:51

* * *

## 8

以下循环执行（ ）次-------public class Test{public static void main(String[] args){int x=-25,k=0;while(++x<0){k++;}System.out.println(k);}}---------

正确答案: A   你的答案: 空 (错误)

```cpp
24
```

```cpp
25
```

```cpp
26
```

```cpp
无限
```

本题知识点

测试开发工程师 测试工程师 网易 2021

讨论

[牛客 820401139 号](https://www.nowcoder.com/profile/820401139)

第一次执行时 x=-24,所以少一次

发表于 2021-01-22 10:35:17

* * *

## 9

下面（ ）是有效明确的功能需求

正确答案: B   你的答案: 空 (错误)

```cpp
后台记录用户最近 100 次的登录数据
```

```cpp
用户签到后账户金额增加 1 金币
```

```cpp
页面设计符合用户审美
```

```cpp
间隔一段时间提示用户休息
```

本题知识点

测试开发工程师 测试工程师 网易 2021

## 10

软件长时间运行的测试，以期发现一些资源泄露等问题。这种测试类型一般是（）

正确答案: D   你的答案: 空 (错误)

```cpp
强度测试
```

```cpp
基准测试
```

```cpp
负载测试
```

```cpp
稳定性测试
```

本题知识点

测试开发工程师 测试工程师 网易 2021

讨论

[牛客 645850781 号](https://www.nowcoder.com/profile/645850781)

1.负载测试：关心的是用户的规则和需求
2.压力测试：关心的是软件系统本身
3.基准测试：增加一个新的模块就要进行打开、关闭新模块
4.稳定性测试:长时间运行看系统会不会有问题
5.并发测试：涉及服务器容量以及多进程协调同步问题    

发表于 2021-08-20 08:35:18

* * *

[Qutieee 想找工作](https://www.nowcoder.com/profile/384634545)

C，

负载测试：压力相对较大的测试（数量或时间），测试系统在一种或者几种极限条件下的相应能力。

发表于 2021-03-05 19:41:11

* * *

## 11

十进制的 16，是十六进制的（）

正确答案: A   你的答案: 空 (错误)

```cpp
10
```

```cpp
16
```

```cpp
a
```

```cpp
f
```

本题知识点

测试开发工程师 测试工程师 网易 2021

讨论

[200403 李鑫](https://www.nowcoder.com/profile/267314329)

A

发表于 2021-01-11 10:45:47

* * *

[203606 王一帆](https://www.nowcoder.com/profile/68567268)

A

发表于 2021-01-11 09:43:39

* * *

## 12

一种常用于连接中、大型企业或团体与团体间的隐私网络的通讯方法是（ ）

正确答案: B   你的答案: 空 (错误)

```cpp
VPS
```

```cpp
VPN
```

```cpp
CDN
```

```cpp
PPTP
```

本题知识点

测试开发工程师 测试工程师 网易 2021

## 13

访问一个 url，返回 400 错误，最有可能的原因是（ ）

正确答案: C   你的答案: 空 (错误)

```cpp
当前用户没有登录认证
```

```cpp
资源没有在服务器上发现
```

```cpp
请求参数有错误
```

```cpp
请求超时
```

本题知识点

测试开发工程师 测试工程师 网易 2021

讨论

[牛客 645850781 号](https://www.nowcoder.com/profile/645850781)

| 100 | Continue | 继续。[客户端](http://www.dreamdu.com/webbuild/client_vs_server/)应继续其请求 |
| 101 | Switching Protocols | 切换协议。服务器根据客户端的请求切换协议。只能切换到更高级的协议，例如，切换到 HTTP 的新版本协议 |
|  |
| 200 | OK | 请求成功。一般用于 GET 与 POST 请求 |
| 201 | Created | 已创建。成功请求并创建了新的资源 |
| 202 | Accepted | 已接受。已经接受请求，但未处理完成 |
| 203 | Non-Authoritative Information | 非授权信息。请求成功。但返回的 meta 信息不在原始的服务器，而是一个副本 |
| 204 | No Content | 无内容。服务器成功处理，但未返回内容。在未更新网页的情况下，可确保浏览器继续显示当前文档 |
| 205 | Reset Content | 重置内容。服务器处理成功，用户终端（例如：浏览器）应重置文档视图。可通过此返回码清除浏览器的表单域 |
| 206 | Partial Content | 部分内容。服务器成功处理了部分 GET 请求 |
|  |
| 300 | Multiple Choices | 多种选择。请求的资源可包括多个位置，相应可返回一个资源特征与地址的列表用于用户终端（例如：浏览器）选择 |
| 301 | Moved Permanently | 永久移动。请求的资源已被永久的移动到新 URI，返回信息会包括新的 URI，浏览器会自动定向到新 URI。今后任何新的请求都应使用新的 URI 代替 |
| 302 | Found | 临时移动。与 301 类似。但资源只是临时被移动。客户端应继续使用原有 URI |
| 303 | See Other | 查看其它地址。与 301 类似。使用 GET 和 POST 请求查看 |
| 304 | Not Modified | 未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源。客户端通常会缓存访问过的资源，通过提供一个头信息指出客户端希望只返回在指定日期之后修改的资源 |
| 305 | Use Proxy | 使用代理。所请求的资源必须通过代理访问 |
| 306 | Unused | 已经被废弃的 HTTP 状态码 |
| 307 | Temporary Redirect | 临时重定向。与 302 类似。使用 GET 请求重定向 |
|  |
| 400 | Bad Request | 客户端请求的语法错误，服务器无法理解 |
| 401 | Unauthorized | 请求要求用户的身份认证 |
| 402 | Payment Required | 保留，将来使用 |
| 403 | Forbidden | 服务器理解请求客户端的请求，但是拒绝执行此请求 |
| 404 | Not Found | 服务器无法根据客户端的请求找到资源（网页）。通过此代码，网站设计人员可设置"您所请求的资源无法找到"的个性页面 |
| 405 | Method Not Allowed | 客户端请求中的方法被禁止 |
| 406 | Not Acceptable | 服务器无法根据客户端请求的内容特性完成请求 |
| 407 | Proxy Authentication Required | 请求要求代理的身份认证，与 401 类似，但请求者应当使用代理进行授权 |
| 408 | Request Time-out | 服务器等待客户端发送的请求时间过长，超时 |
| 409 | Conflict | 服务器完成客户端的 PUT 请求时可能返回此代码，服务器处理请求时发生了冲突 |
| 410 | Gone | 客户端请求的资源已经不存在。410 不同于 404，如果资源以前有现在被永久删除了可使用 410 代码，网站设计人员可通过 301 代码指定资源的新位置 |
| 411 | Length Required | 服务器无法处理客户端发送的不带 Content-Length 的请求信息 |
| 412 | Precondition Failed | 客户端请求信息的先决条件错误 |
| 413 | Request Entity Too Large | 由于请求的实体过大，服务器无法处理，因此拒绝请求。为防止客户端的连续请求，服务器可能会关闭连接。如果只是服务器暂时无法处理，则会包含一个 Retry-After 的响应信息 |
| 414 | Request-URI Too Large | 请求的 URI 过长（URI 通常为网址），服务器无法处理 |
| 415 | Unsupported Media Type | 服务器无法处理请求附带的媒体格式 |
| 416 | Requested range not satisfiable | 客户端请求的范围无效 |
| 417 | Expectation Failed | 服务器无法满足 Expect 的请求头信息 |
|  |
| 500 | Internal Server Error | 服务器内部错误，无法完成请求 |
| 501 | Not Implemented | 服务器不支持请求的功能，无法完成请求 |
| 502 | Bad Gateway | 作为网关或者代理工作的服务器尝试执行请求时，从远程服务器接收到了一个无效的响应 |
| 503 | Service Unavailable | 由于超载或系统维护，服务器暂时的无法处理客户端的请求。延时的长度可包含在服务器的 Retry-After 头信息中 |
| 504 | Gateway Time-out | 充当网关或代理的服务器，未及时从远端服务器获取请求 |
| 505 | HTTP Version not supported | 服务器不支持请求的 HTTP 协议的版本，无法完成处理 |

发表于 2021-08-20 09:34:26

* * *

## 14

假设 A,B,C 三个理性人依次提议分 163 个金币，若提议未获半数以上通过，提议人处死，接着按照顺序继续提供方案。如果获得半数以上（不包括半数）通过了，则按照提议分配。如果你是 C，你可以得到（ ）个硬币。

正确答案: D   你的答案: 空 (错误)

```cpp
163
```

```cpp
81
```

```cpp
1
```

```cpp
0
```

本题知识点

测试开发工程师 测试工程师 网易 2021

讨论

[牛客 672480365 号](https://www.nowcoder.com/profile/672480365)

只有金币，没有硬币

发表于 2021-03-08 00:09:27

* * *

[牛客 403101593 号](https://www.nowcoder.com/profile/403101593)

假设 A 提议所有的金币由 A 和 B 两人分，A 和 B 都同意此提议，结果就是 C 只能获得 0 金币

发表于 2021-02-20 16:46:37

* * *

[牛客 684408842 号](https://www.nowcoder.com/profile/684408842)

天行九歌里有一集和这个题很像，100 枚金币三个人分，也是超过半数人同意这个提议人活着。当时我记得最后一个人可以拿 99 个金币来着啊。

发表于 2021-09-20 16:48:27

* * *

## 15

下面软件提示有问题的是（ ）

正确答案: D   你的答案: 空 (错误)

```cpp
登录时用户名输入正确，密码输入错误，提示用户：密码错误
```

```cpp
登录时用户输入验证码错误，提示用户：验证码错误
```

```cpp
注册时用户名输入后，提示：用户名已注册
```

```cpp
注册时手机号位数错误输入后，提示：手机号不对
```

本题知识点

测试开发工程师 测试工程师 网易 2021

讨论

[牛客 972801604 号](https://www.nowcoder.com/profile/972801604)

A 哪里不对？

发表于 2021-07-14 17:49:05

* * *

[小狐狸 xhl](https://www.nowcoder.com/profile/769461518)

```cpp
注册时手机号位数错误输入后，提示：手机号位数错误
```

发表于 2021-03-23 20:51:57

* * *

## 16

以下哪些属于应用层协议（ ）

正确答案: A B   你的答案: 空 (错误)

```cpp
SMTP
```

```cpp
SSH
```

```cpp
UDP
```

```cpp
DHCP
```

本题知识点

测试开发工程师 测试工程师 网易 2021

讨论

[牛客 820401139 号](https://www.nowcoder.com/profile/820401139)

应用层：文件传输，电子邮件，文件服务，虚拟终端 TFTP，HTTP，SNMP，FTP，SMTP，DNS，Telnet 传输层：提供端对端的接口 TCP，UDP 网络层：为数据包选择路由 IP，ICMP，RIP，OSPF，BGP，IGMP 数据链路层：传输有地址的帧以及错误检测功能 SLIP，CSLIP，PPP，ARP，RARP，MTU 物理层：以二进制数据形式在物理媒体上传输数据 ISO2110，IEEE802，IEEE802.2 （来源于网络）

发表于 2021-01-22 12:47:40

* * *

[CatTutor](https://www.nowcoder.com/profile/260580798)

STMP 是应用层的邮件传输协议，ssh 是应用层基础上的安全协议，UDP 属于传输层协议，DHCP 是动态主机配置协议，也是属于应用层，但是需要手动安装

发表于 2021-03-27 09:51:41

* * *

[大鹏呀](https://www.nowcoder.com/profile/631010945)

```cpp
DHCP 不是应用层吗？

```

发表于 2021-08-19 21:06:50

* * *

## 17

以下属于 http 请求方法的是（ ）

正确答案: A B C   你的答案: 空 (错误)

```cpp
get
```

```cpp
head
```

```cpp
post
```

```cpp
join
```

本题知识点

测试开发工程师 测试工程师 网易 2021

讨论

[抓住星光](https://www.nowcoder.com/profile/495736291)

http 常用请求方法有：1、获取资源的 get 方法；2、传输实体的 post 方法；3、传输文件的 put 方法；4、获取报文首部的 head 方法；5、删除文件的 DELETE 方法，6.OPTIONS 方法：询问支持的方法故选 ABC

发表于 2021-03-04 22:17:18

* * *

## 18

以下属于中国移动网络制式的有（）

正确答案: A C   你的答案: 空 (错误)

```cpp
LTE
```

```cpp
WCDMA
```

```cpp
TD-SCDMA
```

```cpp
CDMA2000
```

本题知识点

测试开发工程师 测试工程师 网易 2021

讨论

[我不喜欢有昵称](https://www.nowcoder.com/profile/96467569)

[](https://www.axios-http.cn/docs/urlencoded)[](https://www.axios-http.cn/docs/urlencoded)[中国移动](https://baike.baidu.com/item/%E4%B8%AD%E5%9B%BD%E7%A7%BB%E5%8A%A8)使用的 GSM(2G)/[TD-SCDMA](https://baike.baidu.com/item/TD-SCDMA)(3G)/TD-LTE(4G)这 3 模；[中国联通](https://baike.baidu.com/item/%E4%B8%AD%E5%9B%BD%E8%81%94%E9%80%9A)使用的是 GSM(2G)/[WCDMA](https://baike.baidu.com/item/WCDMA)(3G)/TD-LTE(4G)/FDD-LTE(4G)；[中国电信](https://baike.baidu.com/item/%E4%B8%AD%E5%9B%BD%E7%94%B5%E4%BF%A1)使用的是 CDMA1X(2G)/EVDO(3G)/TD-LTE(4G)/FDD-LTE(4G)。

发表于 2021-08-10 17:50:35

* * *

[牛客 869342371 号](https://www.nowcoder.com/profile/869342371)

中国移动通信的网络制式有 3 种,2G 网络制式为 GSM,3G 网络制式为 TD-SWCDMA,4G 网络制式为 TD-LTE。

发表于 2021-04-02 10:50:44

* * *

## 19

以下属于国产 Linux 的发行版本为（）

正确答案: B D   你的答案: 空 (错误)

```cpp
RedHat
```

```cpp
Deepin
```

```cpp
CentOS
```

```cpp
NeoKylin
```

本题知识点

测试开发工程师 测试工程师 网易 2021

讨论

[牛客 645850781 号](https://www.nowcoder.com/profile/645850781)

深度（deepin）
红旗 Linux（red flag）
中标麒麟（NeoKylin）银河麒麟（Kylin）后缀有 lin 一般国产
一铭操作系统(YMOS)
中兴（中兴 newstart）

发表于 2021-08-20 10:30:43

* * *

## 20

以下属于 SSID 的加密方式有（）

正确答案: A B C D   你的答案: 空 (错误)

```cpp
wep
```

```cpp
wpa2
```

```cpp
open system
```

```cpp
tkip
```

本题知识点

测试开发工程师 测试工程师 网易 2021

讨论

[牛客 645850781 号](https://www.nowcoder.com/profile/645850781)

Open System：任何人都能用
Web Redirection：重定向到认证网站
WEP ：每个用户都是相同密码
WPA：在 wep 基础上更难破解（采用 TKIP 动态密钥 EAP 可选）
MAC ACL：只能认证不能加密

发表于 2021-08-20 10:42:14

* * *

## 21

以下属于关系型数据库的有（）

正确答案: A B C   你的答案: 空 (错误)

```cpp
mysql
```

```cpp
sql server
```

```cpp
oracle
```

```cpp
mongodb
```

本题知识点

测试开发工程师 测试工程师 网易 2021

## 22

下面哪些说法不够准确（）

正确答案: A B C   你的答案: 空 (错误)

```cpp
软件测试就是要找出产品所有的缺陷，上线时不应带有已知的问题
```

```cpp
对于 bug 的优先级，测试人员和开发、产品发生分歧时，应该以测试人员的感受为主
```

```cpp
为了避免“苹果税”，产品可以在支付页面提供微信、支付宝等第三方支付工具
```

```cpp
对于存在重大风险的版本，无论何种情况都应该避免发布。
```

本题知识点

测试开发工程师 测试工程师 网易 2021

讨论

[牛客 645850781 号](https://www.nowcoder.com/profile/645850781)

苹果针对完全线上服务是强制收税的，没办法避免

发表于 2021-08-20 10:46:16

* * *

## 23

以下哪些内容属于软件测试的范围（）

正确答案: A B C D   你的答案: 空 (错误)

```cpp
在产品需求阶段，了解需求详情并准备测试方案
```

```cpp
在版本提测之前，为开发人员准备自测用例
```

```cpp
在产品发布之前，组织众测并整理反馈
```

```cpp
在产品发布之后，关注用户数据和线上反馈
```

本题知识点

测试开发工程师 测试工程师 网易 2021

## 24

2.4G 的 Wifi 网络共有 1 个信道。

你的答案 (错误)

1 参考答案 (1) 13

本题知识点

测试开发工程师 测试工程师 网易 2021

讨论

[牛客 743679204 号](https://www.nowcoder.com/profile/743679204)

14 个[`en.wikipedia.org/wiki/List_of_WLAN_channels#2.4_GHz_`](https://en.wikipedia.org/wiki/List_of_WLAN_channels#2.4_GHz_)(802.11b/g/n/ax)

发表于 2022-01-26 14:41:08

* * *

[牛客 684408842 号](https://www.nowcoder.com/profile/684408842)

实际上一共有 14 个信道，第 14 个信道一般不用。

发表于 2021-09-20 16:23:12

* * *

## 25

有四封不同的信，要投递至三个不同的信箱，共有 1_ 种投递方法

你的答案 (错误)

1 参考答案 (1) 81

本题知识点

测试开发工程师 测试工程师 网易 2021

讨论

[抓住星光](https://www.nowcoder.com/profile/495736291)

A,B,C,D 是独立的不同的个体,A 投哪个信箱跟 B,C,D 没有影响,同样 B 投哪个信箱也跟 A,C,D 没有影响。A 有 A1 A2 A3 总共有了 3 种 投法 那么 BCD 也是同样的所以结果就是 3*3*3*3 = 81

发表于 2021-03-04 22:21:07

* * *

[阿噢丶](https://www.nowcoder.com/profile/234645080)

这题问得就很有问题，容易让人误解到每个信箱都要有信，说的是要投到三个信箱不是可以投到

发表于 2021-08-21 07:56:24

* * *

## 26

Vim 中共有 1 种状态，退出编辑器的命令是 2，删除当前光标所在行开始计 5 行内容的命令是 3。

你的答案 (错误)

123 参考答案 (1) 3
(2) :q
(3) 5dd

本题知识点

测试开发工程师 测试工程师 网易 2021

讨论

[林司桐](https://www.nowcoder.com/profile/230743637)

看着我之前的笔记，我陷入了沉思。Vim 有 6 种基本模式 Basic Mode 和 6 种额外的模式。

*   BASIC MODE*6：

    1.  **Normal mode**

        For moving around a file and making edits.

    2.  Visual mode

        For selecting blocks of text

    3.  Select mode

    4.  **Insert mode**

        For inserting text.

    5.  **Command-line mode**

        For running a command.

    6.  Ex mode

*   ADDITIONAL MODE*6：

    1.  Operator-pending mode

    2.  Replace mode

    3.  Virtual Replace mode

    4.  Insert Normal mode

    5.  Insert Visual mode

    6.  Insert Select mode

发表于 2021-01-11 18:15:55

* * *

## 27

给定一个字符串 s，问该字符串里有多少个长度大于 1 的连续子串都是回文？回文：正序的文本内容与倒序的文本内容相同，比如 aa，aba

本题知识点

安卓工程师 iOS 工程师 网易 2021 Java 工程师 C++工程师 测试开发工程师 测试工程师 前端工程师 算法工程师 运维工程师 安全工程师 游戏研发工程师

讨论

[零葬](https://www.nowcoder.com/profile/75718849)

外层固定右边界，改变左边界，内层固定左边界，改变右边界，对所有子串进行回文检验

```cpp
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.io.IOException;
import java.util.HashMap;

public class Main {
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        String str = br.readLine();
        int count = 0;
        for(int i = 0; i < str.length(); i++){
            // 固定右边界
            int left = i, right = str.length() - 1;
            while(left < right){
                // 固定左边界
                int temp_l = left, temp_r = right;
                // 检查 str[temp_l:temp_r]是否是回文串
                while(temp_l < temp_r){
                    if(str.charAt(temp_l) != str.charAt(temp_r))
                        break;        // 以 temp_l 开头 temp_r 结尾的子串不是回文串
                    temp_l++;
                    temp_r--;
                }
                // 如果右边界到左边界的左边了，说明此时抓出来一个回文串
                if(temp_l >= temp_r) count ++;
                right --;
            }
        }
        System.out.println(count);
    }
}
```

发表于 2021-01-18 21:00:21

* * *

[寒冰-侠客](https://www.nowcoder.com/profile/442275737)

仅从数据层面看，O(N²)的算法应无法通过，但实际上数据不强，平方级仍可通过。此处介绍一种字符串哈希结合二分的方法，复杂度 O(N*logN)。其实此方法的基础是求字符串最长回文子串。（1）对字符串正反两向做哈希处理（2）回文串长度有奇数和偶数两种，求以 pos 为中心的最长回文子串和以（pos，pos+1）为中心的最长回文子串。例如以 pos 为中心最长回文子串长度为 2x+1，那么可以得到 x 个长度超过 2 的回文子串，例如子串 bbabb，那么 bab，bbabb 为解。（3）求 pos 为中心的最长回文子串可以用二分法来降低复杂度。

```cpp
#include <bits/stdc++.h>
typedef long long ll;
using namespace std;
string s;
ll n,p=131,hx[100005]={1},hx2[100005],pw[100005]={1},ans=0;
int check1(ll pos)/**< 求以 pos 为中点的回文串最大长度 */
{
    int l=0,r=min(pos-1,n-pos),mid,best=0;
    while(l<=r)
    {
        mid=(l+r)>>1;/**< 左半段 p-mid~p，右半段 p~p+mid */
        if(hx[pos-1]-hx[pos-mid-1]*pw[mid]==hx2[pos+1]-hx2[pos+mid+1]*pw[mid])
          l=mid+1,best=mid;
        else
            r=mid-1;
    }
    return best;
}
int check2(ll pos)/**< 求以 pos 和 pos+1 为中点的回文串最大长度 */
{
    if(pos==n||s[pos-1]!=s[pos])
        return 0;
    int l=1,r=min(pos,n-pos),mid,best=1;
    while(l<=r)
    {
        mid=(l+r)/2;/**< 左半段 p-mid+1~p 开始，右半段 p+1~p+1+mid */
        if(hx[pos]-hx[pos-mid]*pw[mid]==hx2[pos+1]-hx2[pos+1+mid]*pw[mid])
          l=mid+1,best=mid;
        else
            r=mid-1;
    }
    return best;
}
int main()
{

    int i,j;
    cin>>s;
    n=s.size();
    for(i=1;i<=100000;i++)
        pw[i]=pw[i-1]*p;
    for(i=0;i<s.size();i++)
        hx[i+1]=hx[i]*p+s[i]-'a'+1;
    for(i=n-1;i>=0;i--)
        hx2[i+1]=hx2[i+2]*p+s[i]-'a'+1;
    for(i=1;i<=n;i++)
    {
        int len1=check1(i),len2=check2(i);
        ans+=len1+len2;
    }
    cout<<ans;
    return 0;
}

```

发表于 2022-01-14 12:15:05

* * *

[maoxiaomao](https://www.nowcoder.com/profile/230303195)

```cpp
#牛客 405350751 号的 python 实现
s=input()
count=0
for i in range(len(s)):
    k=i-1
    r=i+1
    while(k>=0 and r<=len(s)-1 and s[k]==s[r]):   #以当前字符为对称轴向左右扩展
        count=count+1
        k=k-1
        r=r+1
    k=i
    r=i+1
    while(k>=0 and r<=len(s)-1 and s[k]==s[r]):  #以两个字符的中间对称轴
        count=count+1
        k=k-1
        r=r+1
print(count)

```

发表于 2021-05-17 18:36:38

* * *