# 第一章 第 3 节 语言基础-3

> 原文：[`www.nowcoder.com/tutorial/10069/35076cc7cc6c4f299647c669f5bdfaa5`](https://www.nowcoder.com/tutorial/10069/35076cc7cc6c4f299647c669f5bdfaa5)

#### 1.1.8 说说 static 关键字的作用

**参考回答**

1.  **定义全局静态变量和局部静态变量**：在变量前面加上 static 关键字。初始化的静态变量会在数据段分配内存，未初始化的静态变量会在 BSS 段分配内存。直到程序结束，静态变量始终会维持前值。只不过全局静态变量和局部静态变量的作用域不一样；

2.  **定义静态函数**：在函数返回类型前加上 static 关键字，函数即被定义为静态函数。静态函数只能在**本源文件**中使用；

3.  在变量类型前加上 static 关键字，变量即被定义为静态变量。**静态变量只能在本源文件中使用**；

    ```cpp
    //示例
    static int a;
    static void func();
    ```

4.  在 c++中，**static 关键字可以用于定义类中的静态成员变量**：使用静态数据成员，它既可以被当成全局变量那样去存储，但又被隐藏在类的内部。类中的 static 静态数据成员拥有一块单独的存储区，而不管创建了多少个该类的对象。所有这些对象的静态数据成员都**共享**这一块静态存储空间。

5.  在 c++中，**static 关键字可以用于定义类中的静态成员函数**：与静态成员变量类似，类里面同样可以定义静态成员函数。只需要在函数前加上关键字 static 即可。如静态成员函数也是类的一部分，而不是对象的一部分。所有这些对象的静态数据成员都**共享**这一块静态存储空间。

**答案解析**

当调用一个对象的非静态成员函数时，系统会把该对象的起始地址赋给成员函数的 this 指针。而静态成员函数不属于任何一个对象，因此 C++规定静态成员函数没有 this 指针（划重点，面试题常考）。既然它没有指向某一对象，也就无法对一个对象中的非静态成员进行访问。

#### 1.1.9 说说数组和指针的区别

**参考回答**

1.  概念：

    （1）数组：数组是用于储存多个相同类型数据的集合。 数组名是首元素的地址。

    （2）指针：指针相当于一个变量，但是它和不同变量不一样，它存放的是其它变量在**内存中的地址**。 指针名指向了内存的首地址。

2.  区别：

    （1）**赋值**：同类型指针变量可以相互赋值；数组不行，只能一个一个元素的赋值或拷贝

    （2）**存储方式**：

    ​ 数组：数组在内存中是连续存放的，开辟一块连续的内存空间。数组是根据数组的下进行访问的，数组的存储空间，不是在静态区就是在栈上。

    ​ 指针：指针很灵活，它可以指向任意类型的数据。指针的类型说明了它所指向地址空间的内存。由于指针本身就是一个变量，再加上它所存放的也是变量，所以指针的存储空间不能确定。

    （3）**求 sizeof**：

    ​ 数组所占存储空间的内存大小：sizeof（数组名）/sizeof（数据类型）

    ​ 在 32 位平台下，无论指针的类型是什么，sizeof（指针名）都是 4，在 64 位平台下，无论指针的类型是什么，sizeof（指针名）都是 8。

    （4）**初始化**：

    ```cpp
    //数组
    int a[5] = {0};
    char b[]={"Hello"};//按字符串初始化，大小为 6.
    char c[]={'H','e','l','l','o','\0'};//按字符初始化
    int* arr = new int[n];//创建一维数组

    //指针
    //指向对象的指针
    int p=new int(0) ;    
    delete p;
    //指向数组的指针
    int p=new int[n];    
    delete[] p;
    //指向类的指针：
    class p=new class;  
    delete p;
    //指针的指针（二级指针）
    int **pp=new (int)[1]; 
    pp[0]=new int[6];
    delete[] pp[0];
    ```

    （5）指针操作：

    ​ 数组名的指针操作

    ```cpp
    int a[3][4];  
    int (*p)[4];  //该语句是定义一个数组指针，指向含 4 个元素的一维数组
    p = a;        //将该二维数组的首地址赋给 p，也就是 a[0]或&a[0][0]
    p++;          //该语句执行过后，也就是 p=p+1；p 跨过行 a[0][]指向了行 a[1][]
                  //所以数组指针也称指向一维数组的指针，亦称行指针。
    //访问数组中第 i 行 j 列的一个元素，有几种操作方式：
    //*(p[i]+j)、*(*(p+i)+j)、(*(p+i))[j]、p[i][j]。其中，优先级：()>[]>*。
    //这几种操作方式都是合法的。
    ```

    指针变量的数据操作：

    ```cpp
    char *str = "hello,douya!";
    str[2] = 'a';
    *(str+2) = 'b';
    //这两种操作方式都是合法的。
    ```